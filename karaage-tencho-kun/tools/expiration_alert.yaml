identity:
  name: "expiration_alert"
  author: "yoichiojima"
  label:
    en_US: "Expiration Alert"
    ja_JP: "消費期限アラート"
description:
  human:
    en_US: "Track product expiration and suggest markdowns"
    ja_JP: "商品の消費期限を追跡し、見切り品を提案"
  llm: |
    商品の消費期限をチェックし、見切り品（値引き販売）の提案を行います。

    ## 機能
    - 消費期限が近い商品を一覧表示
    - 緊急度（high/medium/low）で分類
    - 値引き推奨を提案

    ## 緊急度の基準
    - high（赤）: 残り2時間以内 → 30%OFF推奨
    - medium（黄）: 残り4時間以内 → 20%OFF検討
    - low（緑）: 残り8時間以内 → 通常販売継続

    ## カテゴリ別の消費期限目安
    - おにぎり: 8時間
    - サンドイッチ: 6時間
    - 弁当: 12時間
    - パン: 24時間
    - デザート: 48時間
    - サラダ: 12時間
    - ホットスナック: 4時間

    ## 使用例
    - 全アラート取得: パラメータなし
    - 緊急のみ: urgency="high"
    - おにぎりのみ: category="おにぎり"
    - 4時間以内: hours_threshold=4
parameters:
  - name: category
    type: string
    required: false
    label:
      en_US: Category
      ja_JP: カテゴリ
    human_description:
      en_US: "Filter by product category"
      ja_JP: "商品カテゴリでフィルタ"
    llm_description: "商品カテゴリでフィルタ（おにぎり、サンドイッチ、弁当、パン、デザート、サラダ、ホットスナック）"
    form: llm
  - name: urgency
    type: string
    required: false
    label:
      en_US: Urgency
      ja_JP: 緊急度
    human_description:
      en_US: "Filter by urgency level (high/medium/low)"
      ja_JP: "緊急度でフィルタ（high/medium/low）"
    llm_description: "緊急度でフィルタ: high（2時間以内）、medium（4時間以内）、low（8時間以内）"
    form: llm
  - name: hours_threshold
    type: number
    required: false
    label:
      en_US: Hours Threshold
      ja_JP: 時間しきい値
    human_description:
      en_US: "Show items expiring within this many hours"
      ja_JP: "指定時間以内に期限切れになる商品のみ表示"
    llm_description: "残り時間のしきい値（この時間以内に期限切れになる商品のみ表示）"
    form: llm
extra:
  python:
    source: tools/expiration_alert.py
