identity:
  name: "shift_table_generator"
  author: "yoichiojima"
  label:
    en_US: "Shift Table Generator"
    ja_JP: "シフト表生成"
description:
  human:
    en_US: "Generate beautiful HTML shift tables"
    ja_JP: "見やすいHTMLシフト表を生成"
  llm: |
    シフトデータを可視化したHTMLシフト表を生成します。
    スタッフのスキル、役職、シフト状態を色分けして表示します。

    ## ビュータイプ
    - weekly: 週間シフト表（スタッフ × 日付のマトリクス）
      - スタッフごとに各日のシフト時間を表示
      - スキルバッジ付き
      - 店長/パートの色分け
    - daily: 日次シフト表（時間帯 × スタッフのガントチャート風）
      - 特定の日の時間帯別カバレッジを可視化
      - 6時〜24時の時間帯表示
    - staff: スタッフ別2週間ビュー
      - 各スタッフの2週間分のシフトを一覧表示
      - 時給情報付き

    ## 色分け
    - 緑: 店長シフト
    - 青: 確定シフト
    - オレンジ枠: 仮シフト（pending）
    - スキルバッジ: からあげ(オレンジ), レジ(シアン), 品出し(青), etc.

    ## 使用例
    - 今週のシフト表: view_type="weekly"
    - 特定週: view_type="weekly", start_date="2026-02-16"
    - 特定日: view_type="daily", start_date="2026-02-20"
    - スタッフ別: view_type="staff"

    ## 出力
    自己完結型のHTMLを返します。ファイルとして保存してブラウザで開くか、
    HTMLプレビューで表示できます。
parameters:
  - name: view_type
    type: string
    required: false
    label:
      en_US: View Type
      ja_JP: ビュータイプ
    human_description:
      en_US: "Type of shift table to generate (weekly/daily/staff)"
      ja_JP: "生成するシフト表の種類（weekly/daily/staff）"
    llm_description: "ビュータイプ: weekly（週間）、daily（日次）、staff（スタッフ別2週間）。省略時は weekly"
    form: llm
    default: weekly
  - name: start_date
    type: string
    required: false
    label:
      en_US: Start Date
      ja_JP: 開始日
    human_description:
      en_US: "Start date (YYYY-MM-DD)"
      ja_JP: "開始日（YYYY-MM-DD形式）"
    llm_description: "開始日（YYYY-MM-DD形式）。省略時は今週の月曜日"
    form: llm
extra:
  python:
    source: tools/shift_table_generator.py
