identity:
  name: "dashboard_generator"
  author: "yoichiojima"
  label:
    en_US: "Dashboard Generator"
    ja_JP: "ダッシュボード生成"
description:
  human:
    en_US: "Get sales dashboard data in JSON format"
    ja_JP: "売上ダッシュボードデータをJSON形式で取得"
  llm: |
    売上データをダッシュボード用のJSON形式で取得します。
    取得したデータをもとに、HTMLダッシュボードを生成してください。

    ## レポートタイプ
    - daily: 本日の売上データ
      - KPI（売上、販売点数、客単価、取引件数、前日比）
      - 時間別売上（6時〜24時）
      - カテゴリ別売上
    - weekly: 週間売上データ
      - KPI（週間売上、日平均、前週比）
      - 日別売上推移
      - カテゴリ別週間売上
      - 天気別売上
    - comparison: 今週 vs 先週 比較データ
      - KPI（今週/先週の合計、差額、変化率）
      - 曜日別売上比較
      - カテゴリ別売上比較

    ## 使用例
    - 本日のデータ: report_type="daily"
    - 週間データ: report_type="weekly"
    - 週間比較: report_type="comparison"

    ## 出力
    JSON形式のデータを返します。
    dashboard_templateツールでテンプレートを取得し、プレースホルダーをデータで置換して
    そのままチャットメッセージとしてHTMLを出力してください（file_writer不要）。
parameters:
  - name: report_type
    type: string
    required: false
    label:
      en_US: Report Type
      ja_JP: レポートタイプ
    human_description:
      en_US: "Type of dashboard data to retrieve (daily/weekly/comparison)"
      ja_JP: "取得するダッシュボードデータの種類（daily/weekly/comparison）"
    llm_description: "レポートタイプ: daily（本日）、weekly（週間）、comparison（今週vs先週）。省略時は daily"
    form: llm
    default: daily
extra:
  python:
    source: tools/dashboard_generator.py
